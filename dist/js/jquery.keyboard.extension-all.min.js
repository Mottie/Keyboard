/*! jQuery UI Virtual Keyboard (1.26.17) - ALL Extensions + Mousewheel */
/*! jQuery UI Virtual Keyboard Alt Key Popup v1.1.1 */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&"object"==typeof module.exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){"use strict";var b=a.keyboard;a.extend(b.css,{altKeyPopup:"ui-keyboard-popup",altKeyOverlay:"ui-keyboard-overlay"}),b.altKeys=a.extend({a:"å æ ā ă ą à á â ã ä",A:"Å Æ Ā Ă Ą À Á Â Ã Ä",c:"ç ć ĉ ċ č",C:"Ç Ć Ĉ Ċ Č",d:"ď ð ď",D:"Ď Ð Ď",e:"ė ę ĕ ě ə è é ê ë ē",E:"Ė Ę Ĕ Ě Ǝ È É Ê Ë Ē",g:"ģ ğ ĝ ġ",G:"Ģ Ğ Ĝ Ġ",h:"ĥ ħ",H:"Ĥ Ħ",i:"ı į ī ï î í ì ĩ ĭ",I:"İ Į Ī Ï Î Í Ì Ĩ Ĭ",j:"ĵ",J:"Ĵ",k:"ķ",K:"Ķ",l:"Ł Ľ Ļ Ĺ Ŀ",L:"ł ľ ļ ĺ ŀ",n:"ŉ ň ņ ń ñ",N:"ŉ Ň Ņ Ń Ñ",o:"œ ő ø ö õ ô ó ò ō ŏ",O:"Œ Ő Ø Ö Õ Ô Ó Ò Ō Ŏ",r:"ŕ ř ŗ",R:"Ŕ Ř Ŗ",s:"ś š ş ß § ŝ",S:"Ś Š Ş ẞ § Ŝ",t:"þ ť ț ţ ŧ",T:"Þ Ť Ț Ţ Ŧ",u:"ų ű ů ū ü û ú ù ũ ŭ",U:"Ų Ű Ů Ū Ü Û Ú Ù Ũ Ŭ",w:"ŵ",W:"Ŵ",y:"ý",Y:"Ý",z:"ź ż ž",Z:"Ź Ż Ž","!":"¡",$:"€ £ ¤ ¥ ¢ ₡ ₱ ₩ ₹ ₪ ₭ ₮ ₦ ₤","?":"¿","'":"〈 「 『 “",'"':"〉 」 』 ”","(":"《 【 〔",")":"》 】 〕"},b.altKeys),b.navigationKeys=a.extend({enter:13,escape:27,end:35,home:36,left:37,right:39},b.navigationKeys),a.fn.addAltKeyPopup=function(c){var d={holdTime:500,popupVisible:"popup-visible",popupHidden:"popup-hidden",popupPosition:null};return this.each(function(){var e=a(this).data("keyboard");if(e){if(e.altkeypopup_options=a.extend({},d,e.altkeypopup_options,c),e.altkeypopup_namespace)return e.altkeypopup_setup();e.altkeypopup_namespace=e.namespace+"AltKeyPopup",e.extensionNamespace.push(e.altkeypopup_namespace),e.altkeypopup_setup=function(){var c,d="mousedown touchstart ".split(" ").join(e.altkeypopup_namespace+" "),f="mouseup touchend touchcancel ".split(" ").join(e.altkeypopup_namespace+" ");e.options.repeatRate=0,e.$allKeys.unbind(e.altkeypopup_namespace).bind(d,function(){clearTimeout(c);var d=a(this),f=d.attr("data-value")||"";f in b.altKeys&&(c=setTimeout(function(){e.altKeyPopup_popup(f,d)},e.altkeypopup_options.holdTime))}).bind(f,function(){clearTimeout(c)}),e.altkeypopup_blockingFlag=!1,e.$preview.unbind("keypress keydown keyup ".split(" ").join(e.altkeypopup_namespace+" ").trim()).bind("keypress keydown keyup ".split(" ").join(e.altkeypopup_namespace+" "),function(d){if("keyup"===d.type)return clearTimeout(c),e.altkeypopup_blockingFlag=!1,!0;var f,g=b.builtLayouts[e.layout],h=b.keyCodes,i=a(d.target),j=d.charCode||d.which,k=String.fromCharCode(j);return"keydown"===d.type&&k in b.altKeys?(f=e.altkeypopup_blockingFlag,e.altkeypopup_blockingFlag=!0,!f):e.altkeypopup_blockingFlag?(j>=h.a&&j<=h.z&&!d.shiftKey&&(k=k.toLowerCase()),g.hasMappedKeys&&g.mappedKeys.hasOwnProperty(k)&&(k=g.mappedKeys[k]),k in b.altKeys&&(c=setTimeout(function(){e.altkeypopup_blockingFlag&&e.altKeyPopup_popup(k,i)},e.altkeypopup_options.holdTime)),!0):void 0})},e.altKeyPopup_close=function(){e.altkeypopup_blockingFlag=!1,e.altKeyPopup_$overlay=null,e.$keyboard.find("."+b.css.altKeyOverlay).remove(),a(document).unbind(e.altkeypopup_namespace),e.$preview.focus(),e.options.ignoreEsc=e.altKeyPopup_savedIgnoreEsc,e.$el.trigger(e.altkeypopup_options.popupHidden,[e])},e.altKeyPopup_popup=function(c,d){if(!e.$keyboard.find("."+b.css.altKeyOverlay).length){var f,g,h,i,j,k,l,m,n=b.css,o={$kb:e.$keyboard,kbWidth:e.$keyboard.outerWidth(),kbHeight:e.$keyboard.outerHeight(),$key:d};e.altKeyPopup_$overlay=a('<div class="'+n.altKeyOverlay+'" />').css({width:o.kbWidth,height:o.kbHeight}).appendTo(e.$keyboard).bind("click touchstart",function(){e.altKeyPopup_close()}),"bksp"!==c&&b.keyaction.bksp(e),g=a('<div class="'+n.altKeyPopup+" "+e.options.css.container+'" />'),f=b.altKeys[c].split(/\s+/),e.buildRow(g,0,f,[]),h=g.appendTo(e.altKeyPopup_$overlay).children().bind("mousedown touchstart",function(c){var d=a(this).attr("data-action");d in b.keyaction&&a.isFunction(b.keyaction[d])?b.keyaction[d](e,this,c):e.insertText(d),e.altKeyPopup_close()}).bind("mouseover mouseleave",function(b){"mouseleave"===b.type?h.removeClass(e.options.css.buttonHover):a(this).addClass(e.options.css.buttonHover)}),e.altKeyPopup_navigate(!0),e.altKeyPopup_savedIgnoreEsc=e.options.ignoreEsc,e.options.ignoreEsc=!0,a(document).unbind(e.altkeypopup_namespace).bind("keydown"+e.altkeypopup_namespace,function(a){return!1}).bind("keyup"+e.altkeypopup_namespace,function(a){return a.which===b.navigationKeys.escape?e.altKeyPopup_close():e.altKeyPopup_navigate(a),!1}),o.$popup=g,l=g.outerWidth(),i=d.position().left-l/2,i+l>o.kbWidth&&(i=o.kbWidth-l,i<0&&g.css({width:o.kbWidth,height:"auto"})),j=d.position().top-d.outerHeight()-5,m=g.outerHeight(),k=e.$keyboard.find("."+n.keySet).position().top,j+m>o.kbHeight&&(j=o.kbHeight-m,j<k&&g.css({height:o.popupHeight,width:"auto"})),o.popupWidth=g.outerWidth(),o.popupHeight=g.outerHeight(),o.popupLeft=i<0?0:i,o.popupTop=j<k?k:j,g.css({position:"absolute",left:o.popupLeft,top:o.popupTop}),"function"==typeof e.altkeypopup_options.popupPosition&&e.altkeypopup_options.popupPosition(e,o),e.$preview.blur(),e.$el.trigger(e.altkeypopup_options.popupVisible,[e])}},e.altKeyPopup_navigate=function(a){var c,d=b.css,f=b.navigationKeys,g=e.options.css.buttonHover,h=e.$keyboard.find("."+d.altKeyPopup).find("."+d.keyButton),i=h.length-1;if(a===!0)return h.eq(0).addClass(g),void(e.altKeyPopup_currentIndex=0);if(c=e.altKeyPopup_currentIndex,a.which===f.enter)return e.insertText(h.eq(c).attr("data-value")),e.altKeyPopup_close(),!0;switch(a.which){case f.end:c=i;break;case f.home:c=0;break;case f.left:c-=1;break;case f.right:c+=1}c<0&&(c=0),c>i&&(c=i),e.altKeyPopup_currentIndex=c,h.removeClass(g).eq(c).addClass(g)},e.options.alwaysOpen&&e.isVisible()&&e.altkeypopup_setup(),e.$el.unbind(b.events.kbBeforeVisible+e.altkeypopup_namespace).bind(b.events.kbBeforeVisible+e.altkeypopup_namespace,function(){e.altkeypopup_setup()})}})}}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&"object"==typeof module.exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){"use strict";a.fn.addAutocomplete=function(b){var c={position:{of:null,my:"right top",at:"left top",collision:"flip"},events:"autocomplete",data:""};return this.each(function(){var d,e,f=a(this).data("keyboard");f&&(e=f.namespace+"Autocomplete",f.autocomplete_namespace=e,f.extensionNamespace.push(e),f.autocomplete_init=function(){d=f.autocomplete_options=a.extend(!0,{},c,b);var g=d.events||d.data||"autocomplete";f.options.alwaysOpen&&f.isVisible()&&f.autocomplete_setup(),f.$el.unbind(e).bind(a.keyboard.events.kbVisible+e,function(){f.autocomplete_setup()}).bind(a.keyboard.events.kbHidden+e,function(){f.$el[d.data||"autocomplete"]("close")}).bind(a.keyboard.events.kbChange+e,function(){f.hasAutocomplete&&f.isVisible()&&f.$el.val(f.$preview.val())}).bind(g+"open"+e,function(){if(f.hasAutocomplete){var b=a.extend({},d.position);b.of=b.of||f.$keyboard,f.$autocomplete.menu.element.position(b)}}).bind(g+"select"+e,function(a,b){f.autocomplete_getVal(b.item)})},f.autocomplete_getVal=function(a){var b;switch(typeof a){case"string":b=a||"";break;case"object":b=a.label||a.value||"";break;default:b=f.preview&&f.preview.value||f.el.value}b=b.toString(),f.hasAutocomplete&&""!==b&&((f.$preview||f.$el).val(b).focus(),f.last.start=b.length,f.last.end=b.length,f.last.val=b)},f.autocomplete_setup=function(){if(f.$autocomplete=f.$el.data(f.autocomplete_options.data)||f.$el.data("uiAutocomplete")||f.$el.data("ui-autocomplete")||f.$el.data("autocomplete"),f.hasAutocomplete="undefined"!=typeof f.$autocomplete&&!f.$autocomplete.options.disabled,f.hasAutocomplete){f.$preview.bind("keydown"+e,function(a){f.$preview&&a.namespace!==f.$autocomplete.eventNamespace&&(a.namespace=f.$autocomplete.eventNamespace,f.$el.triggerHandler(a))});var a="mouseup mousedown mouseleave touchstart touchend touchcancel ".split(" ").join(e+" ");f.$allKeys.bind(a,function(a){clearTimeout(f.$autocomplete.searching);var b=a;f.$autocomplete.searching=setTimeout(function(){f.$autocomplete.term!==f.$autocomplete.element.val()&&(f.$autocomplete.selectedItem=null,f.$autocomplete.search(null,b))},f.$autocomplete.options.delay)})}},f.origEscClose=f.escClose,f.escClose=function(b){f.hasAutocomplete&&("ui-active-menuitem"===b.target.id||a(b.target).closest("ul").hasClass("ui-autocomplete"))||f.origEscClose(b)},f.autocomplete_init())})}}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&"object"==typeof module.exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){"use strict";var b=a.keyboard;b.firefox="undefined"!=typeof window.mozInnerScreenX,a.extend(b.css,{caret:"ui-keyboard-caret",caretMirror:"ui-keyboard-mirror-div"}),a.fn.addCaret=function(c){var d={caretClass:"",charAttr:"data-character",charIndex:1,offsetX:0,offsetY:0,adjustHt:0};return this.each(function(){var e,f,g=b.events,h=a(this).data("keyboard");h&&(e=h.caret_options=a.extend({},d,c),f=h.caret_namespace=h.namespace+"caret",h.extensionNamespace.push(f),h.textareaCaretProperties=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],h.caret_setup=function(){var c=b.css,d="keyup keypress mouseup mouseleave ".split(" ").join(f+" "),i="position:absolute;visibility:hidden;top:-9999em;left:-9999em;white-space:pre-wrap;z-index:-10;"+("INPUT"===h.preview.nodeName?"":"word-wrap:break-word;");h.$keyboard.find("."+c.caretMirror).remove(),h.caret_$div=a('<div class="'+c.caretMirror+'" style="'+i+'">').appendTo(h.$keyboard),h.$caret&&h.$caret.remove(),h.$caret=a('<div class="'+c.caret+" "+e.caretClass+'" style="position:absolute;">').insertAfter(h.$preview),h.$el.unbind(g.kbChange+f).bind(g.kbChange+f,function(){h.findCaretPos()}),h.$preview.unbind(d).bind(d,function(){h.findCaretPos()})},h.findCaretPos=function(){if(h.caret_$div){var c,d,f,g,i,j,k,l,m=h.preview,n=parseFloat(h.$preview.css("fontSize")),o="INPUT"===m.nodeName,p=h.caret_$div[0];c=p.style,d=window.getComputedStyle?getComputedStyle(m,null):m.currentStyle,g=b.caret(h.$preview),i=Math["ltr"===d.direction?"max":"min"](g.start,g.end),h.textareaCaretProperties.forEach(function(a){c[a]=d[a]}),b.firefox&&(c.width=parseInt(d.width,10)-2+"px",m.scrollHeight>parseInt(d.height,10)&&(c.overflowY="scroll")),c.width=parseInt(o?m.scrollWidth:d.width,10)+(o?2*n:0)+"px",p.textContent=m.value.substring(0,i),"INPUT"===m.nodeName&&(p.textContent=p.textContent.replace(/\x20/g," ")),k=document.createElement("span"),k.textContent=m.value.substring(i)||"​",p.appendChild(k),l=a(k).position(),g="center"===c.textAlign?n:0,h.caretPos={top:l.top+parseInt(d.borderTopWidth,10)+e.offsetY,left:l.left+parseInt(d.borderLeftWidth,10)+e.offsetX-g},f=parseInt(h.$caret.css("margin-top"),10),c=Math.round(n+2*f)+e.adjustHt,l=h.$preview.position(),h.$caret.css({top:l.top-m.scrollTop+h.caretPos.top-f,left:l.left-m.scrollLeft+h.caretPos.left,height:c}),j=m.value.substring(i,i+e.charIndex).replace(/\s/," ")||" ",h.$caret.attr(e.charAttr,j)}},h.$el.unbind(f).bind(g.kbBeforeVisible+f,function(){h.caret_setup()}).bind(g.kbVisible+f,function(){h.findCaretPos()}).bind(g.kbHidden+f,function(){var a="keyup keypress mouseup mouseleave ".split(" ").join(f+" ");h.$preview.unbind(a),h.$caret.remove(),h.$caret=null,h.caret_$div=null}),h.options.alwaysOpen&&h.isVisible()&&(h.caret_setup(),h.findCaretPos()))})}}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&"object"==typeof module.exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){"use strict";var b=a.keyboard;b.css.extender="ui-keyboard-extender",b.language.en.display.extender=" :toggle_numpad",b.layouts.numpad={normal:["{clear} / * -","7 8 9 +","4 5 6 %","1 2 3 =","0 {dec} {left} {right}"]},b.keyaction.extender=function(a,b){return a.extender_toggle(),!1},a.fn.addExtender=function(c){var d={layout:"numpad",showing:!1,reposition:!0};return this.each(function(){var e=a(this).data("keyboard");if(e){if(e.extender_options=a.extend({},d,e.extender_options,c),e.extender_namespace)return e.extender_layoutSwitcher();e.extender_namespace=e.namespace+"extender",e.extensionNamespace.push(e.extender_namespace),e.extender_layoutSwitcher=function(){e.extender_lastKeyset=e.last.keyset,e.extender_bindEvents(!1),e.$el.one(b.events.kbBeforeVisible,function(){e.shiftActive=e.extender_lastKeyset[0],e.altActive=e.extender_lastKeyset[1],e.metaActive=e.extender_lastKeyset[2],e.showKeySet(),e.extender_setup(),e.extender_bindEvents()}),e.redraw()},e.extender_bindEvents=function(a){var c=b.events.kbBeforeVisible+e.extender_namespace;e.$el.unbind(c),a!==!1&&e.$el.bind(c,function(){e.extender_setup()})},e.extender_setup=function(){var a,c=e.extender_options.layout;"undefined"==typeof b.builtLayouts[c]&&e.buildKeyboard(c),a=b.builtLayouts[c].$keyboard.find("."+b.css.keySet+"-normal").clone(),a.removeClass().removeAttr("name").addClass(b.css.extender).children("button").removeAttr("data-pos"),a[0].style.display=e.extender_options.showing?"inline-block":"none",e.$keyboard.find("div."+b.css.extender).remove(),e.$keyboard.append(a),e.extender_toggle(e.extender_options.showing),e.bindKeys()},e.extender_toggle=function(c){e.extender_options.showing="undefined"==typeof c?!e.extender_options.showing:c,e.$keyboard.find("button."+b.css.extender).toggleClass(e.options.css.buttonActive,e.extender_options.showing).end().find("div."+b.css.extender)[0].style.display=e.extender_options.showing?"inline-block":"none",e.extender_options.reposition&&a(window).trigger("resize")},e.options.alwaysOpen&&e.isVisible()&&e.extender_setup(),e.extender_bindEvents()}})}}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&"object"==typeof module.exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){a.fn.addMobile=function(b){var c,d={container:{theme:"b",cssClass:"ui-body"},input:{theme:"b",cssClass:""},buttonMarkup:{theme:"b",cssClass:"ui-btn",shadow:"true",corners:"true"},buttonHover:{theme:"b",cssClass:"ui-btn-hover"},buttonAction:{theme:"b",cssClass:"ui-btn-active"},buttonActive:{theme:"b",cssClass:"ui-btn-active"},allThemes:"a b c"};return this.each(function(){var e=a(this).data("keyboard");e&&"undefined"!=typeof a.fn.textinput&&(e.mobile_options=c=a.extend(!0,{},d,b),e.mobile_themes=a.trim((" "+c.allThemes).split(" ").join(" "+c.buttonMarkup.cssClass+"-")+(" "+c.allThemes).split(" ").join(" "+c.buttonAction.cssClass+"-")+(" "+c.allThemes).split(" ").join(" "+c.buttonActive.cssClass+"-")),"undefined"==typeof e.options.mobile_savedActiveClass&&(e.options.mobile_savedActiveClass=""+e.options.css.buttonActive),e.mobile_init=function(){var b=e.namespace+"Mobile";a("."+a.keyboard.css.input).textinput(),e.options.alwaysOpen&&e.isVisible&&e.mobile_setup(),e.extensionNamespace.push(b),e.$el.unbind(b).bind(a.keyboard.events.kbBeforeVisible+b,function(){e&&e.el.active&&e.$keyboard.length&&e.$keyboard.css("visibility","hidden")}).bind(a.keyboard.events.kbVisible+b,function(){e&&e.el.active&&e.$keyboard.length&&(e.mobile_setup(),e.$keyboard.css("visibility","visible"),e.$preview.focus())})},e.mobile_setup=function(){var b,d=a.keyboard.css,f=e.options,g=e.mobile_themes;e.mobile_$actionKeys=e.$keyboard.find("."+e.options.css.buttonAction),f.css.buttonActive=f.mobile_savedActiveClass+" "+e.modOptions(c.buttonActive,c.buttonMarkup),e.$keyboard.addClass(e.modOptions(c.container,c.container)).find("."+d.preview).removeClass("ui-widget ui-widget-content").addClass(e.modOptions(c.input,c.input)).end().find("button").removeClass(a.trim("ui-corner-all ui-state-default "+g)).addClass(e.modOptions(c.buttonMarkup,c.buttonMarkup)).not(e.mobile_$actionKeys).hover(function(){a(this).removeClass(g).addClass(e.modOptions(c.buttonHover,c.buttonMarkup))},function(){a(this).removeClass(g+" "+c.buttonHover.cssClass).addClass(e.modOptions(c.buttonMarkup,c.buttonMarkup))}),e.mobile_$actionKeys.removeClass(g).addClass(e.modOptions(c.buttonAction,c.buttonMarkup)),e.msie&&e.$preview[0]!==e.el&&(e.$preview.hide(),e.$keyboard.css("width",""),e.width=e.$keyboard.outerWidth(),e.$keyboard.width(e.width+parseInt(e.$preview.css("fontSize"),10)),e.$preview.width(e.width),e.$preview.show()),a.ui&&a.ui.position&&(b=f.position,b.of=b.of||e.$el.data("keyboardPosition")||e.$el,b.collision=b.collision||"flipfit flipfit",e.$keyboard.position(b))},e.modOptions=function(a,b){var c=" "+(a.cssClass||"");return c+" "+(b&&b.cssClass?b.cssClass+"-"+(a.theme||""):"")+("true"==a.shadow?" ui-shadow":"")+("true"==a.corners?" ui-corner-all":"")},e.mobile_init())})}}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&"object"==typeof module.exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){"use strict";a.keyboard=a.keyboard||{},a.keyboard.navigationKeys={toggle:112,enter:13,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,caretrt:45,caretlt:46,caretright:function(b){a.keyboard.keyaction.right(b)},caretleft:function(b){a.keyboard.keyaction.left(b)}},a.fn.addNavigation=function(b){return this.each(function(){var c,d,e=a(this).data("keyboard"),f=e.options,g={position:[0,0],toggleMode:!1,focusClass:"hasFocus",toggleKey:null},h=a.keyboard.events;e&&(e.navigation_options=c=a.extend({},g,b),e.navigation_keys=d=a.extend({},a.keyboard.navigationKeys),e.navigation_namespace=e.namespace+"Nav",e.extensionNamespace.push(e.navigation_namespace),e.saveNav=[e.options.tabNavigation,e.options.enterNavigation],e.allNavKeys=a.map(d,function(a,b){return a}),e.navigation_init=function(){var b=a.keyboard.css;e.$keyboard.toggleClass(c.focusClass,c.toggleMode).find("."+b.keySet+":visible").find("."+b.keyButton+'[data-pos="'+c.position[0]+","+c.position[1]+'"]').addClass(f.css.buttonHover),e.$preview.unbind(e.navigation_namespace).bind("keydown"+e.navigation_namespace,function(a){return e.checkKeys(a.which)})},e.checkKeys=function(b,d){if("undefined"!=typeof b){var f=e.navigation_keys,g=a.keyboard.css;return(b===(c.toggleKey||f.toggle)||d)&&(c.toggleMode=!d&&!c.toggleMode,e.options.tabNavigation=!c.toggleMode&&e.saveNav[0],e.options.enterNavigation=!c.toggleMode&&e.saveNav[1]),e.$keyboard.toggleClass(c.focusClass,c.toggleMode),c.toggleMode&&b===f.enter?(e.$keyboard.find("."+g.keySet+":visible").find("."+g.keyButton+'[data-pos="'+c.position[0]+","+c.position[1]+'"]').trigger(h.kbRepeater),!1):c.toggleMode&&a.inArray(b,e.allNavKeys)>=0?(e.navigateKeys(b),!1):void 0}},e.navigateKeys=function(b,d,g){g="number"==typeof g?g:c.position[1],d="number"==typeof d?d:c.position[0];var h=a.keyboard.css,i=e.$keyboard.find("."+h.keySet+":visible"),j=i.find("."+h.endRow).length-1,k=i.find("."+h.keyButton+'[data-pos^="'+d+',"]').length-1,l=e.last,m=e.$preview.val().length,n=e.navigation_keys;switch(b){case n.pageup:d=0;break;case n.pagedown:d=j;break;case n.end:g=k;break;case n.home:g=0;break;case n.left:g+=g>0?-1:0;break;case n.up:d+=d>0?-1:0;break;case n.right:g+=1;break;case n.down:d+=d+1>j?0:1;break;case n.caretrt:l.start++;break;case n.caretlt:l.start--}b!==n.caretrt&&b!==n.caretlt||(l.start=l.start<0?0:l.start>m?m:l.start,e.last.start=e.last.end=l.end=l.start,a.keyboard.caret(e.$preview,e.last)),k=i.find("."+h.keyButton+'[data-pos^="'+d+',"]').length-1,g>k&&(g=k),i.find("."+f.css.buttonHover).removeClass(f.css.buttonHover),i.find("."+h.keyButton+'[data-pos="'+d+","+g+'"]').addClass(f.css.buttonHover),c.position=[d,g]},e.options.alwaysOpen&&e.isVisible&&(e.$keyboard.find("."+f.css.buttonHover).removeClass(f.css.buttonHover),e.navigation_init()),e.$el.unbind(e.navigation_namespace).bind(h.kbVisible,function(){e.$keyboard.find("."+f.css.buttonHover).removeClass(f.css.buttonHover),e.navigation_init()}).bind(h.kbInactive+" "+h.kbHidden,function(a){e.checkKeys(a.which,!0)}).bind(h.kbKeysetChange,function(){e.navigateKeys(null)}).bind("navigate navigateTo",function(b,c,d){var f;c=isNaN(c)?c.toLowerCase():c,c in e.navigation_keys?(f=e.navigation_keys[c],isNaN(f)&&f in a.keyboard.keyaction?a.keyboard.keyaction[f](e,this,b):a.isFunction(f)?f(e):e.checkKeys(f)):"string"==typeof c&&c in a.keyboard.keyaction?a.keyboard.keyaction[c](e,this,b):e.navigateKeys(null,c,d)}))})}}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&"object"==typeof module.exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){"use strict";a.keyboard=a.keyboard||{},a.fn.previewKeyset=function(b){return this.each(function(){var c=a(this).data("keyboard"),d=c.namespace+"Preview",e={sets:["normal","shift","alt","alt-shift"]};c&&(c.previewKeyset_options=a.extend({},e,b),c.extensionNamespace.push(d),c.previewKeyset=function(){var b=a.keyboard.css,d=c.previewKeyset_options.sets,e=c.$keyboard.find("."+b.keySet).filter('[name="'+d.join('"],[name="')+'"]');e.length>1&&e.eq(0).find("."+b.keyButton).not("."+b.keyAction).each(function(){var c,f,g={},h=d.length,i=e.find('button[data-pos="'+a(this).attr("data-pos")+'"]');for(c=0;c<h;c++)f=i.eq(c).parent().attr("name"),a.inArray(f,d)>=0&&(g["data-"+f]=i.eq(c).find("."+b.keyText).text());i.attr(g)})},c.options.alwaysOpen&&c.isVisible()?c.previewKeyset():c.$el.unbind(a.keyboard.events.kbBeforeVisible+d).bind(a.keyboard.events.kbBeforeVisible+d,function(){c.previewKeyset()}))})}}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&"object"==typeof module.exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){"use strict";a.keyboard=a.keyboard||{},a.fn.addScramble=function(b){var c={targetKeys:/[a-z\d]/i,byRow:!0,byKeySet:!1,randomizeOnce:!0,sameForAll:!1,init:null};return this.each(function(){var d,e=a(this).data("keyboard"),f=e.namespace+"Scramble",g=e.options;e&&!e.scramble_options&&(d=e.scramble_options=a.extend({},c,b),e.extensionNamespace.push(f),d.orig_create=g.create,e.scramble_setup=function(b){var c,f,g,h,i,j,k,l,m,n,o;if(c=b.find("."+a.keyboard.css.keySet),b.length){for(d.byKeySet&&(c=c.eq(0)),f=0;f<c.length;f++)if(g=c.eq(f),k=0,o=[],m=[],l=[],n=[],g.children("button, span, br").each(function(){"BR"===this.tagName?d.byRow?(o.push(this),m.push(!1),n[k]=o,l[k]=m,o=[],m=[],k++):(n[k]=this,l[k]=!1,k++):(j=a(this).attr("data-value")||"",j=!(1!==j.length||!d.targetKeys.test(j))&&j,d.byRow?(o.push(this),m.push(j)):(n[k]=this,l[k]=j,k++))}),g.find("."+a.keyboard.css.endRow).remove(),d.byRow)for(i=0;i<n.length;i++)for(o=e.shuffle(n[i],l[i]),h=0;h<o.length;h++)g.append(o[h]);else for(o=e.shuffle(n,l),h=0;h<o.length;h++)g.append(o[h]);return d.byKeySet&&(b=e.realign(b)),b}},e.shuffle=function(a,b){for(var c,d,e=a.length;e>0;)d=Math.floor(Math.random()*e),b[e-1]===!1&&e--,b[e-1]!==!1&&b[d]!==!1&&(e--,c=a[e],a[e]=a[d],a[d]=c);return a},e.realign=function(b){var c,d,e,f=b.find("."+a.keyboard.css.keySet),g=f.eq(0);return f=f.filter(":gt(0)"),g.children().each(function(b,g){d="BR"===g.tagName,e=a(g).attr("data-pos"),f.each(function(b,f){c=d?"br:first":'button[data-pos="'+e+'"]',a(f).find(c).appendTo(f)})}),b},e.setScrambleLayout=function(){if(!/^scrambled/.test(g.layout)){e.orig_layout=g.layout;var a=a||"scrambled"+Math.round(1e4*Math.random());g.layout=d.sameForAll?a:"scrambled"+Math.round(1e4*Math.random())}},g.create=function(){var b=g.layout;a.keyboard.builtLayouts[b]={mappedKeys:{},acceptedKeys:[],$keyboard:null},e.layout=g.layout=e.orig_layout,e.buildKeyboard(e.layout,!0),e.layout=g.layout=b,a.keyboard.builtLayouts[b]=a.extend(!0,{},a.keyboard.builtLayouts[e.orig_layout]),d.randomizeOnce&&(a.keyboard.builtLayouts[b].$keyboard=e.scramble_setup(a.keyboard.builtLayouts[e.orig_layout].$keyboard.clone())),e.$keyboard=a.keyboard.builtLayouts[b].$keyboard,d.randomizeOnce||e.$el.unbind(a.keyboard.events.kbBeforeVisible+f).bind(a.keyboard.events.kbBeforeVisible+f,function(a,b){b.$keyboard=b.scramble_setup(b.$keyboard)}),a.isFunction(d.orig_create)&&d.orig_create(e)},e.setScrambleLayout(),g.alwaysOpen&&e.$keyboard.length?setTimeout(function(){var b=a.keyboard.builtLayouts;e.$keyboard=e.scramble_setup(e.$keyboard),e.setScrambleLayout(),"undefined"==typeof b[g.layout]&&(b[g.layout]={mappedKeys:a.extend({},b[e.layout].mappedKeys),acceptedKeys:a.extend([],b[e.layout].acceptedKeys),$keyboard:e.$keyboard.clone()}),a.isFunction(d.init)&&d.init(e)},0):a.isFunction(d.init)&&d.init(e))})}}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&"object"==typeof module.exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){a.fn.addTyping=function(b){var c={showTyping:!0,lockTypeIn:!1,delay:250},d=a.keyboard;return this.each(function(){var e,f=a(this).data("keyboard");f&&(e=f.typing_options=a.extend({},c,b),f.typing_keymap={" ":"space",'"':"34","'":"39","&nbsp;":"space","\b":"bksp","{b}":"bksp","{d}":"del","{l}":"left","{r}":"right","\n":"enter","\r":"enter","{e}":"enter","\t":"tab","{t}":"tab"},f.typing_xref={8:"bksp",9:"tab",13:"enter",32:"space",37:"left",39:"right",46:"del"},f.typing_event=!1,f.typing_namespace=f.namespace+"typing",f.extensionNamespace.push(f.typing_namespace),e.savedLockInput=f.options.lockInput,f.typing_setup=function(){var a=d.events,b=f.typing_namespace;f.$el.unbind(b).bind([a.kbHidden,a.kbInactive,""].join(b+" "),function(a){f.typing_reset()}).bind(d.events.kbBeforeVisible+b,function(){f.typing_setup()}),f.$allKeys.unbind(b).bind("mousedown"+b,function(){f.typing_reset()}),f.$preview.unbind(b).bind("keyup"+b,function(a){if(e.init&&e.lockTypeIn)return!1;if(!(a.which>=37&&a.which<=40))return 16===a.which&&(f.shiftActive=!1),18===a.which&&(f.altActive=!1),16===a.which||18===a.which?(f.showSet(),void setTimeout(function(){f.$preview.focus()},200)):void 0}).bind("keydown"+b,function(a){return(!e.init||!e.lockTypeIn)&&(a.temp=!1,16===a.which&&(a.temp=!f.shiftActive,f.shiftActive=!0),18===a.which&&(a.temp=!f.altActive,f.altActive=!0),a.temp&&(f.showSet(),f.$preview.focus()),f.typing_event=!0,void(f.typing_xref[a.which]&&f.typing_findKey("",a)))}).bind("keypress"+b,function(a){return(!e.init||!e.lockTypeIn)&&void(f.typing_event&&!f.options.lockInput&&(f.typing_reset(),f.typing_event=!0,f.typing_findKey("",a)))})},f.typing_reset=function(){f.typing_event=e.init=!1,e.text="",e.len=e.current=0,f.options.lockInput=e.savedLockInput},f.typeIn=function(a,b,c,d){if(!f.isVisible())return clearTimeout(f.typing_timer),void f.typing_reset();if(f.typing_event){if("undefined"==typeof a)return f.typing_event=!1,void(f.options.lockInput=e.savedLockInput)}else e.init!==!0&&(e.init=!0,f.options.lockInput=e.lockTypeIn,e.text=a||e.text||"",e.len=e.text.length,e.delay=b||300,e.current=0,c&&(e.callback=c)),a=e.text.substring(e.current,++e.current),"{"===a&&"}"===e.text.substring(e.current+1,e.current+2)&&(a+=e.text.substring(e.current,e.current+=2)),f.typing_findKey(a,d)},f.typing_findKey=function(b,c){var g,h,i,j,k,l,m,n,o=d.css,p=d.builtLayouts[f.layout].mappedKeys;if(f.isOpen&&f.$keyboard.length)if(l=f.$keyboard.find("."+o.keySet),j=b in f.typing_keymap?f.typing_keymap[b]:b,g="."+o.keyButton+'[data-action="'+j+'"]',f.typing_event&&c&&("keypress"!==c.type&&f.typing_xref.hasOwnProperty(c.keyCode||c.which)?g="."+o.keyPrefix+f.processName(f.typing_xref[c.keyCode||c.which]):(h=String.fromCharCode(c.charCode||c.which),g=p.hasOwnProperty(h)?"."+o.keyButton+'[data-value="'+p[h].replace(/"/g,'\\"')+'"]':"."+o.keyPrefix+f.processName(h))),k=l.filter(":visible").find(g),k.length?f.typing_simulateKey(k,b,c):(f.typing_event?k=l.find(g):(i=b in f.typing_keymap?f.typing_keymap[b]:f.processName(b),k=l.find("."+o.keyPrefix+i)),n=k.closest("."+o.keySet),n.attr("name")?(m=n.attr("name"),f.shiftActive=/shift/.test(m),f.altActive=/alt/.test(m),f.metaActive=f.last.keyset[2]=m.match(/meta[\w-]+/)||!1,f.showSet(f.metaActive),f.typing_simulateKey(k,b,c)):f.typing_event||(b in f.typing_keymap&&f.typing_keymap[b]in d.keyaction?d.keyaction[f.typing_keymap[b]](f,k,c):f.insertText(b),f.checkCombos(),f.$el.trigger(d.events.kbChange,[f,f.el]))),e.current<=e.len&&0!==e.len){if(!f.isVisible())return;setTimeout(function(){f.typeIn()},e.delay)}else{if(0!==e.len)return f.typing_reset(),void(a.isFunction(e.callback)&&setTimeout(function(){a.isFunction(e.callback)&&e.callback(f)},e.delay));f.typing_reset()}},f.typing_simulateKey=function(b,c,g){var h=b.length;h&&b.filter(":visible").trigger("mouseenter"+f.namespace),f.typing_timer=setTimeout(function(){var h=b.length;h&&setTimeout(function(){b.trigger("mouseleave"+f.namespace)},e.delay/3),f.isVisible()&&(f.typing_event||(c in f.typing_keymap&&f.typing_keymap[c]in d.keyaction?(g=g||a.Event("keypress"),g.target=b,d.keyaction[f.typing_keymap[c]](f,b,g)):f.insertText(c),f.checkCombos(),f.$el.trigger(d.events.kbChange,[f,f.el])))},e.delay/3)},e.showTyping&&(f.options.alwaysOpen&&f.isVisible()?f.typing_setup():f.$el.unbind(d.events.kbBeforeVisible+f.typing_namespace).bind(d.events.kbBeforeVisible+f.typing_namespace,function(){f.typing_setup()})))})}}),/*! Mousewheel version: 3.1.12 * (c) 2014 Brandon Aaron * MIT License */
function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(m=g.detail*-1),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=g.wheelDeltaX*-1),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=m*-1,m=0),j=0===m?l:m,"deltaY"in g&&(m=g.deltaY*-1,j=m),"deltaX"in g&&(l=g.deltaX,0===m&&(j=l*-1)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||n<f)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});