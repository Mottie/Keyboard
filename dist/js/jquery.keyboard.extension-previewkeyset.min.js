/*! jQuery UI Virtual Keyboard previewKeyset v1.1.1 */
/*
 * for Keyboard v1.18+ only (updated 7/7/2015)
 *
 * By Rob Garrison (aka Mottie & Fudgey)
 * Licensed under the MIT License
 *
 * Use this extension with the Virtual Keyboard to add a preview
 * of other keysets to the main keyboard.
 *
 * Requires:
 *  jQuery
 *  Keyboard plugin : https://github.com/Mottie/Keyboard
 *
 * Setup:
 *  $('.ui-keyboard-input')
 *   .keyboard(options)
 *   .previewKeyset();
 *
 *  // or if targeting a specific keyboard
 *  $('#keyboard1')
 *   .keyboard(options)     // keyboard plugin
 *   .previewKeyset();    // this keyboard extension
 *
 */
/*jshint browser:true, jquery:true, unused:false */
/*global require:false, define:false, module:false */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&"object"==typeof module.exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){"use strict";a.keyboard=a.keyboard||{},a.fn.previewKeyset=function(b){return this.each(function(){
// make sure a keyboard is attached
var c=a(this).data("keyboard"),d=c.namespace+"Preview",e={sets:["normal","shift","alt","alt-shift"]};c&&(c.previewKeyset_options=a.extend({},e,b),c.extensionNamespace.push(d),c.previewKeyset=function(){var b=a.keyboard.css,d=c.previewKeyset_options.sets,
// only target option defined sets
e=c.$keyboard.find("."+b.keySet).filter('[name="'+d.join('"],[name="')+'"]');e.length>1&&
// start with normal keyset & find all non-action buttons
e.eq(0).find("."+b.keyButton).not("."+b.keyAction).each(function(){var c,f,g={},h=d.length,
// find all keys with the same position
i=e.find('button[data-pos="'+a(this).attr("data-pos")+'"]');for(c=0;h>c;c++)f=i.eq(c).parent().attr("name"),a.inArray(f,d)>=0&&(g["data-"+f]=i.eq(c).find("."+b.keyText).text());i.attr(g)})},
// visible event is fired before this extension is initialized, so check!
c.options.alwaysOpen&&c.isVisible()?c.previewKeyset():c.$el.unbind(a.keyboard.events.kbBeforeVisible+d).bind(a.keyboard.events.kbBeforeVisible+d,function(){c.previewKeyset()}))})}});